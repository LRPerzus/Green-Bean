<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Green Bean</title>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bagel+Fat+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="mobileOverlay.css">
    <link rel="stylesheet" href="mainPage.css">
    <script src="https://unpkg.com/html5-qrcode"></script>


    <script>
        // Function to get query parameters from the URL
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }
    
        // Retrieve the username from the URL
        const userName = getQueryParam('username');
        const calanderEventHistoryMonth = {
            date: "2025-01-03",
            eventName: "Climbing the Stalk by GreanBean"
        }
    
        const upComingEvent = {
            date: "2025-01-03",
            eventName: "Climbing the Stalk by GreanBean"
        }
        let userData;

        // Check if "GreanBeanUserData" is stored in localStorage
        if (!localStorage.getItem('GreanBeanUserData')) {
            // If not, store a new userData object in localStorage
            userData = {
                username: userName,
                calanderEvent: [calanderEventHistoryMonth],
                upComingEvent: upComingEvent,
                totalBeans: 32,
                ranking: 1
            };
        } else {
            // Optionally, you could load the existing data from localStorage if needed
            let storedData = JSON.parse(localStorage.getItem('GreanBeanUserData'));
            console.log(storedData);  // This will log the existing user data from localStorage
        }
    </script>


</head>
<body>

    <div class="overlay" id="mobile-overlay">
        <span>
            This page is optimized for mobile. Please switch to mobile view.
        </span>
        <span>
            If you are on desktop right click to find Inspect.
        </span>
        <span>
            Drag the site on the left to set your width to about 440px.
        </span>
    </div>


    <div class="mainPage">
        <div id="topBar">
            <div class="userImage">
                <div class="imageFromUser">
                    <img src="./assets/userIconOverlay.png">
                </div>
            </div>
            <div class="userText">
                <div class="userNameContainers">
                    <span class="username">
                        Username 
                    </span>
                    <svg class="triangle" xmlns="http://www.w3.org/2000/svg" width="57" height="56" viewBox="0 0 57 56" fill="none">
                        <path d="M57 27.7128L0 55.4256L0 27.7128V0L57 27.7128Z" fill="#B99470"/>
                    </svg>
                </div>
                <span class="userTitle">The Bean Baron</span>
            </div>
            <div id="returnArrow" class="hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="55" height="38" viewBox="0 0 55 38" fill="none">
                    <path d="M1.23223 17.2322C0.255924 18.2085 0.255924 19.7915 1.23223 20.7678L17.1421 36.6777C18.1184 37.654 19.7014 37.654 20.6777 36.6777C21.654 35.7014 21.654 34.1184 20.6777 33.1421L6.53553 19L20.6777 4.85786C21.654 3.88155 21.654 2.29864 20.6777 1.32233C19.7014 0.34602 18.1184 0.34602 17.1421 1.32233L1.23223 17.2322ZM55 16.5L3 16.5V21.5L55 21.5V16.5Z" fill="#333333"/>
                </svg>
            </div>
        </div>
        
        <!-- This is starting for HOMEPAGE -->
        <div class="mainContent hidden" id="Homepage">
            <div id="Rankings" class="brownContainer">
                <div class="row rankingInfo">
                    <div class="contributors">
                        <span class="title"> Top Contributions </span>
                        <ol>
                            <li>Ride Green With Anywheel</li>
                            <li>Weigh Your Trash</li>
                            <li>Green Your Routine</li>
                          </ol>
                        
                    </div>
                    <div class="userRanking">
                        <span class="title"> Ranking </span>
                        <span class="rank"> #0 </span>
                    </div>
                </div>
                <div class="row rankingMore">
                    <div class="container">
                        <span> See local rankings </span>
                        <img class="arrow" src="./assets/arrowIcon.svg">
                    </div>
                </div>
            </div>

            <div id="totalBeans" class="brownContainer">
                <div class="totalAmount">
                    <span class="title"> You have</span>
                    <div class="noOfBeans">
                        <span>0</span>
                        <div>
                            <img class="bean"src="./assets/topBean.svg">
                        </div>
                    </div>
                </div>
                <div class="redeemVoucher">
                    <div class="container">
                        <span> Redeem Vouchers</span>
                        <img src="./assets/arrowIcon.svg">
                    </div>
                </div>
            </div>

            <div id="upcomingEvents" class="brownContainer">
                <span class="title"> Upcoming Events</span>
                <div class="eventDetails">
                    <div class="upcomingDate">
                        31th Feburary
                    </div>
                    <div class="eventName">
                        Climbing the Stalks With GreenBean
                    </div>
                </div>
            </div>
        </div>

        <!-- This is starting for beanRedempting -->
        <div class="mainContent hidden" id="beanRedemption">
            <div class="titleOfPage">
                <span class="mainTitle">Bean Balance</span>
            </div>
            <div class="contentOfPage">
                <div class="noOfBeans">
                    <span>0</span>
                    <div>
                        <img class="bean"src="./assets/topBean.svg">
                    </div>
                </div>
                <div class="advertisment">
                    <div class="text">
                        <span> Stand a chance to win x5 bonus of Beans on 5th June</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="55" height="38" viewBox="0 0 55 38" fill="none">
                            <path d="M1.23223 17.2322C0.255924 18.2085 0.255924 19.7915 1.23223 20.7678L17.1421 36.6777C18.1184 37.654 19.7014 37.654 20.6777 36.6777C21.654 35.7014 21.654 34.1184 20.6777 33.1421L6.53553 19L20.6777 4.85786C21.654 3.88155 21.654 2.29864 20.6777 1.32233C19.7014 0.34602 18.1184 0.34602 17.1421 1.32233L1.23223 17.2322ZM55 16.5L3 16.5V21.5L55 21.5V16.5Z" fill="#333333"/>
                        </svg>
                    </div>
                </div>
                <div class="redeemSection" id="workshops">
                    <div class="workshops slideOption">
                        <div class="title">
                            Attend a workshop
                        </div>
                        <div class="slideshow-container">
                            <button class="prev" onclick="moveSlide(-1,'workshops')">&#10094;</button>
                            <div class="slides">
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/ferticlay.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">1000</span>
                                            <spanc class="avalability">Available</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/smoodee.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">1200</span>
                                            <spanc class="avalability un">UnAvailable</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/Ecoponics.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">3000</span>
                                            <spanc class="avalability">Available</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/smoodee.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">1200</span>
                                            <spanc class="avalability un">UnAvailable</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="next" onclick="moveSlide(1,'workshops')">&#10095;</button>
                        </div>
                    </div>
                </div>
                <div class="redeemSection" id="vouchers">
                    <div class="workshops slideOption">
                        <div class="title">
                            Claim Your Voucher
                        </div>
                        <div class="slideshow-container">
                            <button class="prev" onclick="moveSlide(-1,'vouchers')">&#10094;</button>
                            <div class="slides">
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/ferticlay.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">2000</span>
                                            <spanc class="avalability">Available</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/smoodee.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">1200</span>
                                            <spanc class="avalability un">UnAvailable</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/Ecoponics.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">3000</span>
                                            <spanc class="avalability">Available</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide">
                                    <div class="content">
                                        <img src="./assets/smoodee.png" alt="Slide 2">
                                        <div class="textContent">
                                            <span class="cost">1200</span>
                                            <spanc class="avalability un">UnAvailable</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="next" onclick="moveSlide(1,'vouchers')">&#10095;</button>
                        </div>
                    </div>
                </div>


            </div>

        </div>
        
        <!-- This is starting for beanRedempting -->
        <div class="mainContent hidden" id="rankings">
            <div class="rankingInfomation">
                <div class="rankingList"> 
                    <div class="title">Local Ranking</div>
                    <div class="list-container ">
                        <ul id="rankList">
                          <li><span class="rank">#1</span> Rank 1</li>
                          <li><span class="rank">#2</span> Rank 2</li>
                          <li><span class="rank">#3</span> Rank 3</li>
                          <li><span class="rank">#4</span> Rank 4</li>
                          <li><span class="rank">#5</span> Rank 5</li>
                          <li><span class="rank">#6</span> Rank 6</li>
                          <!-- More items can be added here -->
                        </ul>
                      </div>
                </div>
                <div class="currentRank"> 
                    <span class="title">Ranking</span>
                    <span class="currentRanking"> #0 </span>
                    <span class="toNextRank"> Pss you are <span class="red"> 0 Beans</span> From <span class="green"> Being in first</span></span>
                </div>
            </div>
            <div class="summaryInfo">
                <span class="title"> Summary</span>
                <div class="content">
                    <span>
                        In <w>SINGAPORE</w> we reduced 24kg of carbon emissions
                    </span>
                   <span>
                        Equalling  <y>24 round-trip flights from New York to London!</y>
                   </span>
                   <span>
                        You contributed <g>6kg / 24kg</g> this month
                   </span>
                   <span>
                        Equalling to <y>6 round-trip flights from New York to London !</y>
                   </span>
                </div>
            </div>
        </div>

        <!-- This is starting for Events -->
        <div class="mainContent hidden" id="seeEvents">
            <div class="dateEvents">
                <div class="Date title">
                    <span>NIL</span>
                </div>
                <div class="eventsList">
                    <ul>
                        <li class="event noSpace">
                            <div class="imageOfEvent">
                                <img src="assets/plantWorkshop.png">
                            </div>
                            <div class="details">
                                <span class="name">WorkShop A</span>
                                <span class="timing"> 2pm - 4.30pm</span>
                            </div>
                            <div class="addToCalandar cancel">
                                <img src="assets/addTocalander.png">
                                <img class="cancel" src="assets/cancel.png">
                            </div>
                            <div class="location">
                                <img src="assets/location.png">
                                <span> Location </span>
                            </div>
                        </li>

                    </ul>
                </div>
            </div>
        </div>


        <!-- Control Pannel Pages -->
        <div class="mainContent hidden" id="Map">
            <div class="closestLocation">

            </div>
        </div>

        <div class="mainContent" id="Scanner">
            <div class="scanner-container" id="scanningStart">
                <img id="scannerBorder" src="./assets/scannerFrame.png"> 
                <img id="scannerImage" src="./assets/scanme.png">
            </div>
            <div class="qrCodeScanned hidden">

            </div>
        </div>

        <div class="mainContent still-devleopment hidden" id="Friends">
            <div>
                <span> Undermatainance </span>
                <span> o(TヘTo)	</span>
            </div>
        </div>

        <div class="mainContent still-devleopment hidden" id="Settings">
            <div>
                <span> Undermatainance </span>
                <span> o(TヘTo)	</span>
            </div>
        </div>

        <div class="mainContent hidden" id="Calander">
        </div>

        <div class="mainContent hidden" id="CalanderMoreDetails">
        </div>



        <div id="controlBar">
            <div class="container">
                <div class="greenOption" id="seeCalander">
                    <img class="calander" src="./assets/calander.png">
                </div>
                <div class="greenOption" id="seeMap">
                    <img src="./assets/map.png">
                </div>
                <div class="greenOption center" id="getScanner">
                    <img src="./assets/Scanning.png">
                </div>
                <div class="greenOption" id="seeFriends">
                    <img src="./assets/friends.png">

                </div>
                <div class="greenOption last" id="seeSettings">
                    <img src="./assets/settings.png">
                </div>
            </div>
        </div>
    </div>

    <script src="mobileView.js"></script>
    <script src="loadingUserData.js"></script>
    <script src="slideShow.js"></script>
    <script src="map.js"></script>
    <script src="rankingShowcase.js"></script>
    <script src="seeEventsList.js"></script>
    <script src="calanderActivities.js"></script>
    <script src="qrCodeScanner.js"></script>

</body>
</html>
