<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Green Bean</title>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bagel+Fat+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="mobileOverlay.css">
    <link rel="stylesheet" href="mainPage.css">

    <script>
        // Function to get query parameters from the URL
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }
    
        // Retrieve the username from the URL
        const userName = getQueryParam('username');
        const calanderEvent = {
            date : "2025-01-03" ,
            eventName: "Climbing the Stalk by GreanBean"
        }
    
        // Store the username in the userData object
        let userData = {
            userName: userName,
            calanderEvent: [calanderEvent],
            totalBeans: 32,
            ranking: 1
        };

    </script>


</head>
<body>

    <div class="overlay" id="mobile-overlay">
        This page is optimized for mobile. Please switch to mobile view.
    </div>


    <div class="mainPage">
        <div id="topBar">
            <div class="userImage hidden">
                <div class="imageFromUser">
                    <img src="./assets/userIconOverlay.png">
                </div>
            </div>
            <div class="userText hidden ">
                <div class="userNameContainers">
                    <span class="username">
                        Username 
                    </span>
                    <svg class="triangle" xmlns="http://www.w3.org/2000/svg" width="57" height="56" viewBox="0 0 57 56" fill="none">
                        <path d="M57 27.7128L0 55.4256L0 27.7128V0L57 27.7128Z" fill="#B99470"/>
                    </svg>
                </div>
                <span class="userTitle">The Bean Baron</span>
            </div>
            <div id="returnArrow">
                <svg xmlns="http://www.w3.org/2000/svg" width="55" height="38" viewBox="0 0 55 38" fill="none">
                    <path d="M1.23223 17.2322C0.255924 18.2085 0.255924 19.7915 1.23223 20.7678L17.1421 36.6777C18.1184 37.654 19.7014 37.654 20.6777 36.6777C21.654 35.7014 21.654 34.1184 20.6777 33.1421L6.53553 19L20.6777 4.85786C21.654 3.88155 21.654 2.29864 20.6777 1.32233C19.7014 0.34602 18.1184 0.34602 17.1421 1.32233L1.23223 17.2322ZM55 16.5L3 16.5V21.5L55 21.5V16.5Z" fill="#333333"/>
                </svg>
            </div>
        </div>
        
        <!-- This is starting for HOMEPAGE -->
        <div class="mainContent" id="Homepage">
            <div id="Rankings" class="brownContainer">
                <div class="row rankingInfo">
                    <div class="contributors">
                        <span class="title"> Top Contributions </span>
                        <ol>
                            <li>Ride Green With Anywheel</li>
                            <li>Weigh Your Trash</li>
                            <li>Green Your Routine</li>
                          </ol>
                        
                    </div>
                    <div class="userRanking">
                        <span class="title"> Ranking </span>
                        <span class="rank"> #0 </span>
                    </div>
                </div>
                <div class="row rankingMore">
                    <span> See local rankings </span>
                    <img class="arrow" src="./assets/arrowIcon.svg">
                </div>
            </div>

            <div id="totalBeans" class="brownContainer">
                <div class="totalAmount">
                    <span class="title"> You have</span>
                    <div class="noOfBeans">
                        <span>0</span>
                        <div>
                            <img class="bean"src="./assets/topBean.svg">
                        </div>
                    </div>
                </div>
                <div class="redeemVoucher">
                    <div class="container">
                        <span> Redeem Vouchers</span>
                        <img src="./assets/arrowIcon.svg">
                    </div>
                </div>
            </div>

            <div id="upcomingEvents" class="brownContainer">
                <span class="title"> Upcoming Events</span>
                <div class="eventDetails">
                    <div class="upcomingDate">
                        31th Feburary
                    </div>
                    <div class="eventName">
                        Climbing the Stalks With GreenBean
                    </div>
                </div>
            </div>
        </div>

        <div class="mainContent hidden" id="Map">
            <div class="closestLocation">

            </div>
        </div>

        <div id="controlBar">
            <div class="container">
                <div class="greenOption">
                    <img class="calander" src="./assets/calander.png">
                </div>
                <div class="greenOption" onclick="mapClick()">
                    <img src="./assets/map.png">
                </div>
                <div class="greenOption center">
                    <img src="./assets/Scanning.png">
                </div>
                <div class="greenOption">
                    <img src="./assets/friends.png">

                </div>
                <div class="greenOption last">
                    <img src="./assets/settings.png">
                </div>
            </div>
        </div>
    </div>

    <script src="mobileView.js"></script>
    <script src="loadingUserData.js"></script>
    <script src="map.js"></script>

</body>
</html>
